// docs/accountDoc.js

function codeBlock(lang, body) {
    return `\`\`\`${lang}\n${body}\n\`\`\``;
  }
  
  const ACCOUNT_DOC = [
    codeBlock(
      "md",
      [
        "# 계정(Account)",
        "",
        "## 1. 개요",
        "- 계정은 전체 서비스 또는 일부를 사용할 수 있게 하는 시작점입니다.",
        "- 각 계정은 업체(Company)에 소속되며 Role에 따라 행동 범위에 제약을 받습니다.",
        "- 스켈레톤 과정에서는 계정의 동작 범위를 간소화하여 기본 정보 + Role 조합을 구현합니다.",
        "",
      ].join("\n")
    ),
  
    codeBlock(
      "md",
      [
        "## 2. 요구 사항",
        "",
        "### 2-1. Create",
        "1) 업체와 함께 생성된 관리자 계정은 일반 계정을 생성할 수 있습니다.",
        "   1-1) 일반 계정은 관리자 계정이 소속된 업체에 무조건적으로 귀속됩니다.",
        "   1-2) 비밀번호는 **bcrypt**로 해싱 처리 후 저장합니다.",
        "        - 데이터베이스에 평문 비밀번호를 저장해서는 안 됩니다.",
        "",
        "### 2-2. Read",
        "1) 일반 계정은 자신의 상세 정보를 조회할 수 있습니다.",
        "2) 관리자 계정은 일반 계정의 상세 정보를 조회할 수 있습니다.",
        "3) 관리자 계정은 모든 일반 계정 목록을 조회할 수 있습니다.",
        "",
        "### 2-3. Update",
        "1) 일반 계정은 자신의 상세 정보 일부를 변경할 수 있습니다.",
        "2) 관리자 계정은 일반 계정의 상세 정보 일부를 변경할 수 있습니다.",
        "3) 관리자 계정은 일반 계정을 일시적으로 정지(suspend) 시킬 수 있습니다.",
        "   3-1) 정지된 계정은 차후 로그인 시 즉시 실패하고 정지된 계정으로 안내됩니다.",
        "   3-2) 이미 발급된 토큰 또한 유효하지 않은 토큰으로 판정되어 더 이상 사용할 수 없습니다.",
        "   3-3) 인증/인가 구현 시 참고합니다.",
        "",
        "### 2-4. Delete",
        "1) **일반 계정은 스스로 계정을 삭제할 수 없습니다.**",
        "2) 관리자 계정은 일반 계정을 삭제할 수 있습니다.",
        "",
        "### PS",
        "계정의 요구 사항은 단지 참고사항일 뿐 입니다.",
        "요구 사항에 기반해 원하는 기능을 추가/삭제하고 설계해주세요.",
      ].join("\n")
    ),
  
    codeBlock(
      "md",
      [
        "## 3. 최소 제한 사항",
        "",
        "### 3-1. Create",
        "1) 이메일은 중복 생성할 수 없습니다.",
        "   - 예시) ganadi@tgdev.com 을 중복 생성하는 경우 서버는 실패 처리 (403)",
        "",
        "2) **관리자 계정은 반드시 1개만 존재**합니다.",
        "   - 추가적인 관리자 계정을 생성할 수 없습니다.",
        "   - 시도가 있을 경우 서버가 즉시 반려 처리 (403)",
        "",
        "### 3-2. Read",
        "1) 일반 계정은 업체 내 계정 목록을 **조회할 수 없습니다.**",
        "2) 일반 계정은 다른 계정의 상세 정보를 **조회할 수 없습니다.**",
        "3) 관리자 계정은 **자신이 소속된 업체 내에 있는 계정들만** 조회할 수 있습니다. (테넌트 스코프 강제)",
        "",
        "### 3-3. Update",
        "1) **다른 업체에 소속된 계정의 정보를 변경하는 행위는 불가**합니다. (테넌트 스코프 강제)",
        "   - 예시) A업체 관리자가 B업체 일반 계정의 정보 변경 요청 → 실패 처리 (403)",
        "",
        "2) 계정의 **고유한 정보는 변경 불가**합니다.",
        "   - 예시) 데이터베이스 시퀀스, 로그인 ID, 소속 업체 등",
        "",
        "### 3-4. Delete",
        "1) 삭제는 **논리 삭제만 허용**합니다.",
        "   - 논리 삭제를 통해 회생 가능성을 열어두고 복구 플래그로 사용합니다.",
        "",
        "2) **다른 업체에 소속된 계정을 삭제하는 행위는 불가**합니다. (테넌트 스코프 강제)",
        "   - 예시) A업체 관리자가 B업체 일반 계정의 삭제 요청 → 실패 처리 (403)",
      ].join("\n")
    ),
  ];
  
  module.exports = { ACCOUNT_DOC };
  